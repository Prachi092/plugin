!function n(i,s,u){function a(r,e){if(!s[r]){if(!i[r]){var o="function"==typeof require&&require;if(!e&&o)return o(r,!0);if(m)return m(r,!0);var t=new Error("Cannot find module '"+r+"'");throw t.code="MODULE_NOT_FOUND",t}var c=s[r]={exports:{}};i[r][0].call(c.exports,function(e){return a(i[r][1][e]||e)},c,c.exports,n,i,s,u)}return s[r].exports}for(var m="function"==typeof require&&require,e=0;e<u.length;e++)a(u[e]);return a}({1:[function(e,r,o){"use strict";jQuery(function(t){var i={init:function(){this.form=t("form.checkout, form#order_review, form#add_payment_method"),t("form.woocommerce-checkout").length&&(this.form=t("form.woocommerce-checkout")),t("form#order_review").length&&(this.form=t("form#order_review")),t("form#add_payment_method").length&&(this.form=t("form#add_payment_method")),t("form.woocommerce-checkout").on("change",this.reset),t(document.body).on("click","#place_order",function(e){i.isCheckoutFormValid()&&i.startCheckout(e)}),t("form.checkout").on("checkout_place_order_stripe-connect",function(e){i.isCheckoutFormValid()&&i.startCheckout(e)})},isHostedCheckout:function(){return"hosted"===window.wcv_sc_params.checkout_type},isSelectedGateway:function(){return!!t("#payment_method_stripe-connect").is(":checked")},isCheckoutFormValid:function(){var e=!0,r=i.form;r.find(".input-text, select, input:checkbox").trigger("validate").trigger("blur");var o=r.find(".validate-required:not(.woocommerce-validated)").find(".input-text, select, input:checkbox");return o.length&&o.each(function(){""===t(this).val()&&(e=!1)}),e?(i.triggerUpdateCheckout(),!0):(i.submitError('<ul class="woocommerce-error"><li>'+window.wcv_sc_params.required_fields_message+"</li></ul>"),!1)},triggerUpdateCheckout:function(){t(document.body).trigger("update_checkout"),i.unblock()},startCheckout:function(e){e.preventDefault();var n=i.form;if(n.is(".processing"))return!1;if(n.addClass("processing").block(),i.isSelectedGateway()){var r={action:"create_checkout_session",nonce:window.wcv_sc_params.create_session_nonce,checkout_data:n.serialize()},o=window.wcv_sc_params.wcv_sc_ajax_url.toString();try{return t.ajax({url:o.replace("%%endpoint%%","create_checkout_session"),data:r,type:"POST"}).done(function(e,r,o){if(null==e)return n.unblock(),!1;var t=!(!e.error&&1!=e.data.error&&0!=e.success&&"success"==r&&200==o.status);if(t)return i.submitError(e.data.message),!1;if(!e.success||t||!e.data.id&&!e.data.line_items)return e.data;var c=i.handleCheckoutForm(e.data);return n.unblock(),c}).error(function(e){return i.submitError(window.wcv_sc_params.error_message_prefix+" "+e.responseText),!1})}catch(e){return!1}}else n.unblock()},handleCheckoutForm:function(e){try{var r=Stripe(window.wcv_sc_params.key)}catch(e){console.log(e)}var o=e.id;return r.redirectToCheckout({sessionId:o}).then(function(e){e.error&&i.submitError(window.wcv_sc_params.error_message_prefix+" "+e.message)}).error(function(e){return i.submitError(window.wcv_sc_params.error_message_prefix+" "+e.responseText),!1}),!1},block:function(){i.isMobile()||i.form.addClass("processing").block()},unblock:function(){i.form.unblock()},reset:function(){t(".wcv-stripe-connect-error, .stripeConnectError, .stripe_connect_token").remove()},isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},submitError:function(e){t(".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message").remove(),i.form.prepend('<div class="woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout woocommerce-error">'+e+"</div>"),i.form.removeClass("processing").unblock(),i.form.find(".input-text, select, input:checkbox").blur();var r="";t("#add_payment_method").length&&(r=t("#add_payment_method")),t("#order_review").length&&(r=t("#order_review")),t("form.checkout").length&&(r=t("form.checkout")),r.length&&t("html, body").animate({scrollTop:r.offset().top-100},500),t(document.body).trigger("checkout_error"),i.unblock()}};i.init()})},{}]},{},[1]);