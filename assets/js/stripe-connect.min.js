!function c(a,s,i){function m(r,e){if(!s[r]){if(!a[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(p)return p(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[r]={exports:{}};a[r][0].call(o.exports,function(e){return m(a[r][1][e]||e)},o,o.exports,c,a,s,i)}return s[r].exports}for(var p="function"==typeof require&&require,e=0;e<i.length;e++)m(i[e]);return m}({1:[function(e,r,t){"use strict";jQuery(function(c){try{var n=Stripe(wcv_sc_params.key)}catch(e){return void console.log(e)}var t,o,a,e=Object.keys(wcv_sc_params.elements_options).length?wcv_sc_params.elements_options:{},s=(Object.keys(wcv_sc_params.sepa_elements_options).length&&wcv_sc_params.sepa_elements_options,n.elements(e)),i={getAjaxURL:function(e){return wcv_sc_params.ajaxurl.toString().replace("%%endpoint%%","wcv_sc_"+e)},unmountElements:function(){"yes"===wcv_sc_params.inline_cc_form?t.unmount("#stripe-connect-card-element"):(t.unmount("#stripe-connect-card-element"),o.unmount("#stripe-connect-exp-element"),a.unmount("#stripe-connect-cvc-element"))},mountElements:function(){c("#stripe-connect-card-element").length&&("yes"===wcv_sc_params.inline_cc_form?t.mount("#stripe-connect-card-element"):(t.mount("#stripe-connect-card-element"),o.mount("#stripe-connect-exp-element"),a.mount("#stripe-connect-cvc-element")))},createElements:function(){var e={base:{iconColor:"#666EE8",color:"#31325F",fontSize:"15px","::placeholder":{color:"#CFD7E0"}}},r={focus:"focused",empty:"empty",invalid:"invalid"};e=wcv_sc_params.elements_styling?wcv_sc_params.elements_styling:e,r=wcv_sc_params.elements_classes?wcv_sc_params.elements_classes:r,"yes"===wcv_sc_params.inline_cc_form?(t=s.create("card",{style:e,hidePostalCode:!0})).addEventListener("change",function(e){i.onCCFormChange(),e.error&&c(document.body).trigger("stripeError",e)}):(t=s.create("cardNumber",{style:e,classes:r}),o=s.create("cardExpiry",{style:e,classes:r}),a=s.create("cardCvc",{style:e,classes:r}),t.addEventListener("change",function(e){i.onCCFormChange(),i.updateCardBrand(e.brand),e.error&&c(document.body).trigger("stripeError",e)}),o.addEventListener("change",function(e){i.onCCFormChange(),e.error&&c(document.body).trigger("stripeError",e)}),a.addEventListener("change",function(e){i.onCCFormChange(),e.error&&c(document.body).trigger("stripeError",e)})),"yes"===wcv_sc_params.is_checkout?c(document.body).on("updated_checkout",function(){t&&i.unmountElements(),i.mountElements()}):(c("form#add_payment_method").length||c("form#order_review").length)&&i.mountElements()},updateCardBrand:function(e){var r={visa:"stripe-visa-brand",mastercard:"stripe-mastercard-brand",amex:"stripe-amex-brand",discover:"stripe-discover-brand",diners:"stripe-diners-brand",jcb:"stripe-jcb-brand",unknown:"stripe-credit-card-brand"},t=c(".stripe-card-brand"),n="stripe-credit-card-brand";e in r&&(n=r[e]),c.each(r,function(e,r){t.removeClass(r)}),t.addClass(n)},init:function(){"yes"!==wcv_sc_params.is_change_payment_page&&"yes"!==wcv_sc_params.is_pay_for_order_page||c(document.body).trigger("wc-credit-card-form-init"),this.stripe_checkout_submit=!1,c("form.woocommerce-checkout").length&&(this.form=c("form.woocommerce-checkout")),c("form.woocommerce-checkout").on("checkout_place_order_stripe checkout_place_order_stripe_bancontact checkout_place_order_stripe_sofort checkout_place_order_stripe_giropay checkout_place_order_stripe_ideal checkout_place_order_stripe_alipay checkout_place_order_stripe_sepa",this.onSubmit),c("form#order_review").length&&(this.form=c("form#order_review")),c("form#order_review, form#add_payment_method").on("submit",this.onSubmit),c("form#add_payment_method").length&&(this.form=c("form#add_payment_method")),c("form.woocommerce-checkout").on("change",this.reset),c(document).on("stripeError",this.onError).on("checkout_error",this.reset),i.createElements(),"yes"===wcv_sc_params.is_stripe_checkout&&c(document.body).on("click",".wc-stripe-checkout-button",function(){return i.openModal(),!1})},isStripeChosen:function(){return c("#payment_method_stripe-connect, #payment_method_stripe-connect_bancontact, #payment_method_stripe-connect_sofort, #payment_method_stripe-connect_giropay, #payment_method_stripe-connect_ideal, #payment_method_stripe-connect_alipay, #payment_method_stripe-connect_sepa, #payment_method_stripe-connect_eps, #payment_method_stripe-connect_multibanco").is(":checked")||c("#payment_method_stripe-connect").is(":checked")&&"new"===c('input[name="wc-stripe-payment-token"]:checked').val()||c("#payment_method_stripe-connect_sepa").is(":checked")&&"new"===c('input[name="wc-stripe-payment-token"]:checked').val()},isStripeSaveCardChosen:function(){return c("#payment_method_stripe-connect").is(":checked")&&c('input[name="wc-stripe-payment-token"]').is(":checked")&&"new"!==c('input[name="wc-stripe-payment-token"]:checked').val()||c("#payment_method_stripe-connect_sepa").is(":checked")&&c('input[name="wc-stripe_sepa-payment-token"]').is(":checked")&&"new"!==c('input[name="wc-stripe_sepa-payment-token"]:checked').val()},isStripeCardChosen:function(){return c("#payment_method_stripe-connect").is(":checked")},isBancontactChosen:function(){return c("#payment_method_stripe-connect_bancontact").is(":checked")},isGiropayChosen:function(){return c("#payment_method_stripe-connect_giropay").is(":checked")},isIdealChosen:function(){return c("#payment_method_stripe-connect_ideal").is(":checked")},isSofortChosen:function(){return c("#payment_method_stripe-connect_sofort").is(":checked")},isAlipayChosen:function(){return c("#payment_method_stripe-connect_alipay").is(":checked")},isSepaChosen:function(){return c("#payment_method_stripe-connect_sepa").is(":checked")},isP24Chosen:function(){return c("#payment_method_stripe-connect_p24").is(":checked")},isEpsChosen:function(){return c("#payment_method_stripe-connect_eps").is(":checked")},isMultibancoChosen:function(){return c("#payment_method_stripe-connect_multibanco").is(":checked")},hasSource:function(){return 0<c("input.stripe-connect-source").length},hasToken:function(){return 0<c("input.stripe_connect_token").length},isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isStripeModalNeeded:function(){var e=i.form.find("input.stripe_connect_token");return(!i.stripe_submit||!e)&&!!i.isStripeChosen()},block:function(){i.isMobile()||i.form.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){i.form.unblock()},getSelectedPaymentElement:function(){return c('.payment_methods input[name="payment_method"]:checked')},openModal:function(){var t=i.form,e=c("#stripe-connect-payment-data");i.reset();StripeCheckout.open({key:wcv_sc_params.key,billingAddress:e.data("billing-address"),zipCode:e.data("verify-zip"),amount:e.data("amount"),name:e.data("name"),description:e.data("description"),currency:e.data("currency"),image:e.data("image"),locale:e.data("locale"),email:c("#billing_email").val()||e.data("email"),panelLabel:e.data("panel-label"),allowRememberMe:e.data("allow-remember-me"),token:function(e){if(t.find("input.stripe_connect_source").remove(),"token"===e.object)n.createSource({type:"card",token:e.id}).then(i.sourceResponse);else if("source"===e.object){var r={source:e};i.sourceResponse(r)}},closed:i.onClose()})},resetModal:function(){i.reset(),i.stripe_checkout_submit=!1},onClose:function(){i.unblock()},getOwnerDetails:function(){var e=c("#billing_first_name").length?c("#billing_first_name").val():wcv_sc_params.billing_first_name,r=c("#billing_last_name").length?c("#billing_last_name").val():wcv_sc_params.billing_last_name,t={owner:{name:"",address:{},email:"",phone:""}};return t.owner.name=e,t.owner.name=e&&r?e+" "+r:c("#stripe-payment-data").data("full-name"),t.owner.email=c("#billing_email").val(),t.owner.phone=c("#billing_phone").val(),(void 0===t.owner.phone||t.owner.phone.length<=0)&&delete t.owner.phone,(void 0===t.owner.email||t.owner.email.length<=0)&&(c("#stripe-connect-payment-data").data("email").length?t.owner.email=c("#stripe-connect-payment-data").data("email"):delete t.owner.email),(void 0===t.owner.name||t.owner.name.length<=0)&&delete t.owner.name,0<c("#billing_address_1").length?(t.owner.address.line1=c("#billing_address_1").val(),t.owner.address.line2=c("#billing_address_2").val(),t.owner.address.state=c("#billing_state").val(),t.owner.address.city=c("#billing_city").val(),t.owner.address.postal_code=c("#billing_postcode").val(),t.owner.address.country=c("#billing_country").val()):wcv_sc_params.billing_address_1&&(t.owner.address.line1=wcv_sc_params.billing_address_1,t.owner.address.line2=wcv_sc_params.billing_address_2,t.owner.address.state=wcv_sc_params.billing_state,t.owner.address.city=wcv_sc_params.billing_city,t.owner.address.postal_code=wcv_sc_params.billing_postcode,t.owner.address.country=wcv_sc_params.billing_country),t},createSource:function(){var e=i.getOwnerDetails(),r="card";if(i.isBancontactChosen()&&(r="bancontact"),i.isSepaChosen()&&(r="sepa_debit"),i.isIdealChosen()&&(r="ideal"),i.isSofortChosen()&&(r="sofort"),i.isGiropayChosen()&&(r="giropay"),i.isAlipayChosen()&&(r="alipay"),"card"===r)n.createSource(t,e).then(i.sourceResponse);else{switch(r){case"bancontact":case"giropay":case"ideal":case"sofort":case"alipay":e.amount=c("#stripe-"+r+"-payment-data").data("amount"),e.currency=c("#stripe-"+r+"-payment-data").data("currency"),e.redirect={return_url:wcv_sc_params.return_url},wcv_sc_params.statement_descriptor&&(e.statement_descriptor=wcv_sc_params.statement_descriptor)}switch(r){case"sepa_debit":e.currency=c("#stripe-"+r+"-payment-data").data("currency"),e.mandate={notification_method:wcv_sc_params.sepa_mandate_notification};break;case"ideal":e.ideal={bank:c("#stripe-ideal-bank").val()};break;case"alipay":e.currency=c("#stripe-"+r+"-payment-data").data("currency"),e.amount=c("#stripe-"+r+"-payment-data").data("amount");break;case"sofort":e.sofort={country:c("#billing_country").val()}}e.type=r,n.createSource(e).then(i.sourceResponse)}},sourceResponse:function(e){e.error?c(document.body).trigger("stripeError",e):"no"===wcv_sc_params.allow_prepaid_card&&"card"===e.source.type&&"prepaid"===e.source.card.funding?(e.error={message:wcv_sc_params.no_prepaid_card_msg},"yes"===wcv_sc_params.is_stripe_checkout?i.submitError('<ul class="woocommerce-error"><li>'+wcv_sc_params.no_prepaid_card_msg+"</li></ul>"):c(document.body).trigger("stripeError",e)):i.processStripeResponse(e.source)},processStripeResponse:function(e){i.reset(),i.form.append("<input type='hidden' class='stripe-source' name='stripe_source' value='"+e.id+"'/>"),c("form#add_payment_method").length&&c(i.form).off("submit",i.form.onSubmit),i.form.submit()},onSubmit:function(e){if(i.isStripeChosen()){if(i.isStripeSaveCardChosen()||i.hasSource()||i.hasToken())return c("form#add_payment_method").length?(e.preventDefault(),"yes"===wcv_sc_params.is_stripe_checkout&&i.isStripeModalNeeded()&&i.isStripeCardChosen()?i.openModal():(i.block(),i.createSource()),!1):void 0;if(e.preventDefault(),i.block(),"yes"===wcv_sc_params.is_stripe_checkout&&i.isStripeModalNeeded()&&i.isStripeCardChosen())return"yes"===wcv_sc_params.is_checkout||(i.openModal(),!1);if(i.isBancontactChosen()||i.isGiropayChosen()||i.isIdealChosen()||i.isAlipayChosen()||i.isSofortChosen()||i.isP24Chosen()||i.isEpsChosen()||i.isMultibancoChosen()){if(c("form#order_review").length)return c("form#order_review").off("submit",this.onSubmit),i.form.submit(),!1;if(c("form.woocommerce-checkout").length)return!0;if(c("form#add_payment_method").length)return c("form#add_payment_method").off("submit",this.onSubmit),i.form.submit(),!1}return i.createSource(),!1}},onCCFormChange:function(){i.reset()},reset:function(){c(".wcv-stripe-connect-error, .stripe-source, .stripe_token").remove(),"yes"===wcv_sc_params.is_stripe_checkout&&(i.stripe_submit=!1)},onSepaError:function(e){var r=i.getSelectedPaymentElement().parents("li").eq(0).find(".stripe-connect-source-errors");e.error?(console.log(e.error.message),c(r).html('<ul class="woocommerce_error woocommerce-error wcv-stripe-connect-error"><li>'+e.error.message+"</li></ul>")):c(r).html("")},onError:function(e,r){var t=r.error.message,n=i.getSelectedPaymentElement().parents("li").eq(0).find(".stripe-connect-source-errors");if(i.isSepaChosen()&&"invalid_owner_name"===r.error.code&&wcv_sc_params.hasOwnProperty(r.error.code)){var o='<ul class="woocommerce-error"><li>'+wcv_sc_params[r.error.code]+"</li></ul>";return i.submitError(o)}"invalid_request_error"!==r.error.type&&"api_connection_error"!==r.error.type&&"api_error"!==r.error.type&&"authentication_error"!==r.error.type&&"rate_limit_error"!==r.error.type||(t=wcv_sc_params.invalid_request_error),"card_error"===r.error.type&&wcv_sc_params.hasOwnProperty(r.error.code)&&(t=wcv_sc_params[r.error.code]),"validation_error"===r.error.type&&wcv_sc_params.hasOwnProperty(r.error.code)&&(t=wcv_sc_params[r.error.code]),i.reset(),c(".woocommerce-NoticeGroup-checkout").remove(),console.log(r.error.message),c(n).html('<ul class="woocommerce_error woocommerce-error wcv-stripe-connect-error"><li>'+t+"</li></ul>"),c(".wcv-stripe-connect-error").length&&c("html, body").animate({scrollTop:c(".wcv-stripe-connect-error").offset().top-200},200),i.unblock()},submitError:function(e){c(".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message").remove(),i.form.prepend('<div class="woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout">'+e+"</div>"),i.form.removeClass("processing").unblock(),i.form.find(".input-text, select, input:checkbox").blur();var r="";c("#add_payment_method").length&&(r=c("#add_payment_method")),c("#order_review").length&&(r=c("#order_review")),c("form.checkout").length&&(r=c("form.checkout")),r.length&&c("html, body").animate({scrollTop:r.offset().top-100},500),c(document.body).trigger("checkout_error"),i.unblock()}};i.init()})},{}]},{},[1]);